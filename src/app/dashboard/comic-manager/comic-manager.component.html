<mdc-card class="demo-card">

  <div class="demo-card__primary">
    <h2 class="demo-card__title" mdcHeadline6>Criar nova comic</h2>
  </div>
  <div class="demo-card__secondary" mdcBody2>
    <form [formGroup]="comicForm" id="comicForm">
      <mdc-form-field>
        <mdc-text-field formControlName="name" label="Nome da comic" outlined [helperText]="comicHelper" required
          minlength="3"></mdc-text-field>
        <mdc-text-field-helper-text #comicHelper="mdcHelperText" validation>
          <span *ngIf="comicForm.controls['name'].errors?.required">email is required</span>
          <span *ngIf="comicForm.controls['name'].errors?.minlength">email is not long enough</span>
        </mdc-text-field-helper-text>
      </mdc-form-field>
      <mdc-form-field>
        <mdc-textarea type="description" formControlName="description" label="Descricao da comic" [helperText]="descriptionHelper"
          rows="3" cols="16"></mdc-textarea>
        <mdc-text-field-helper-text #descriptionHelper="mdcHelperText" validation>
          <span *ngIf="comicForm.controls['description'].errors?.required">email is required</span>
          <span *ngIf="comicForm.controls['description'].errors?.minlength">email is not long enough</span>
        </mdc-text-field-helper-text>
      </mdc-form-field>
      <mdc-form-field>
        <mdc-switch formControlName="isPublic"></mdc-switch>
        <label>Tornar pública</label>
      </mdc-form-field>
      <mdc-form-field>
        <mdc-switch formControlName="isCommentActive"></mdc-switch>
        <label>Ativar comentários</label>
      </mdc-form-field>
      <mdc-form-field>
        <label class="image-upload-container btn btn-bwm">
          <span>Select Image</span>
          <input #imageInput
                 type="file"
                 accept="image/*"
                 (change)="processFile(imageInput)">
        </label>
      </mdc-form-field>
    </form>
  </div>
  <mdc-card-actions>
    <mdc-card-action-buttons>
      <button mdc-button unelevated mdcCardAction="button" (click)="submitForm()">Criar</button>
    </mdc-card-action-buttons>
  </mdc-card-actions>
</mdc-card>

<div *ngIf="selectedFile" class="img-preview-container">

  <div class="img-preview{{selectedFile.status === 'fail' ? '-error' : ''}}"
       [ngStyle]="{'background-image': 'url('+ selectedFile.src + ')'}">
  </div>

  <div *ngIf="selectedFile.pending" class="img-loading-overlay">
    <div class="img-spinning-circle"></div>
  </div>

  <div *ngIf="selectedFile.status === 'ok'" class="alert alert-success"> Image Uploaded Succesfuly!</div>
  <div *ngIf="selectedFile.status === 'fail'" class="alert alert-danger"> Image Upload Failed!</div>
</div>