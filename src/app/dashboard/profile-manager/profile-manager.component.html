<div class="wrapper">
  <mdc-card class="profile-card">
    <div class="profile-card-article-group-heading" mdcHeadline5>Criar uma nova profile</div>
    <mdc-ripple class="profile-card-navigation">
      <form [formGroup]="profileForm" id="profileForm">
        <mdc-list twoLine interactive="false">
          <mdc-list-item>
            <mdc-text-field formControlName="name" label="Nome completo" fullwidth [helperText]="profileHelper" required
              minlength="3"></mdc-text-field>
            <mdc-text-field-helper-text #profileHelper="mdcHelperText" validation>
              <span *ngIf="profileForm.controls['name'].errors?.required">Campo Nome é obrigatório</span>
            </mdc-text-field-helper-text>
          </mdc-list-item>
          <mdc-list-item>
            Selecione o seu avatar
            <input mdcListItemMeta #imageInput type="file" accept="image/*" (change)="processFile(imageInput)">
          </mdc-list-item>
        </mdc-list>
      </form>
    </mdc-ripple>
    <mdc-card-actions>
      <mdc-card-action-buttons>
        <button mdc-button unelevated mdcCardAction="button" (click)="submitForm()">Criar</button>
      </mdc-card-action-buttons>
    </mdc-card-actions>
    <mdc-ripple class="profile-card-comments" *ngIf="selectedFile">
      <mdc-list-divider></mdc-list-divider>
      <div class="img-preview-container">
        <div *ngIf="selectedFile.pending" class="img-loading-overlay">
          <div class="img-spinning-circle"></div>
        </div>
        <div *ngIf="selectedFile.status === 'ok'" class="alert alert-success">Perfil editado com sucesso</div>
        <div *ngIf="selectedFile.status === 'fail'" class="alert alert-danger">Falha na edição da perfil</div>
      </div>
    </mdc-ripple>
  </mdc-card>
</div>